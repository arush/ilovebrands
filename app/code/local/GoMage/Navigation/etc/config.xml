<?xml version="1.0" encoding="utf-8"?>
<!--
 /**
 * GoMage Advanced Navigation Extension
 *
 * @category     Extension
 * @copyright    Copyright (c) 2010-2011 GoMage (http://www.gomage.com)
 * @author       GoMage
 * @license      http://www.gomage.com/license-agreement/  Single domain license
 * @terms of use http://www.gomage.com/terms-of-use
 * @version      Release: 3.0
 * @since        Class available since Release 1.0
 */
 -->
<config>
    <modules>
        <GoMage_Navigation>
            <version>3.0</version>
        </GoMage_Navigation>
    </modules>
    <global>
    	<blocks>
	        <gomage_navigation><class>GoMage_Navigation_Block</class></gomage_navigation>
	        <catalog>
	        	<rewrite>
	        		<layer_view>GoMage_Navigation_Block_Layer_View</layer_view>
	        		<layer_filter_attribute>GoMage_Navigation_Block_Layer_Filter_Attribute</layer_filter_attribute>
	        		<layer_filter_price>GoMage_Navigation_Block_Layer_Filter_Price</layer_filter_price>
	        		<layer_filter_category>GoMage_Navigation_Block_Layer_Filter_Category</layer_filter_category>
	        		<layer_filter_decimal>GoMage_Navigation_Block_Layer_Filter_Decimal</layer_filter_decimal>
	        		<product_list_toolbar>GoMage_Navigation_Block_Product_List_Toolbar</product_list_toolbar>
	        		<product_list_toolbar_pager>GoMage_Navigation_Block_Product_List_Toolbar_Pager</product_list_toolbar_pager>
	        		<product_list>GoMage_Navigation_Block_Product_List</product_list>
	        		<navigation>GoMage_Navigation_Block_Navigation</navigation>	        		
	        	</rewrite>
	       	</catalog>
	       	<page>
	       		<rewrite>
	       			<html_pager>GoMage_Navigation_Block_Html_Pager</html_pager>
	       		</rewrite>
	       	</page>
	       	<adminhtml>
	        	<rewrite>
	        		<catalog_product_attribute_edit_tab_main>GoMage_Navigation_Block_Adminhtml_Catalog_Product_Attribute_Edit_Tab_Main</catalog_product_attribute_edit_tab_main>
	        		<catalog_product_attribute_edit_tab_options>GoMage_Navigation_Block_Adminhtml_Catalog_Product_Attribute_Edit_Tab_Options</catalog_product_attribute_edit_tab_options>	        			        		
	        		<catalog_category_tab_attributes>GoMage_Navigation_Block_Adminhtml_Catalog_Category_Tab_Attributes</catalog_category_tab_attributes>
	        	</rewrite>
	        </adminhtml>
	        <catalogsearch>
	       		<rewrite>
	       			<layer>GoMage_Navigation_Block_Layer_Searchview</layer>
	       			<result>GoMage_Navigation_Block_Search_Result</result>
	       		</rewrite>
	       	</catalogsearch>
	    </blocks>
	    <models>
            <gomage_navigation>
                <class>GoMage_Navigation_Model</class>
                <resourceModel>gomage_navigation_mysql4</resourceModel>
            </gomage_navigation>
            <gomage_navigation_mysql4>
            	<class>GoMage_Navigation_Model_Mysql4</class>
            	<entities>
            		 <attribute>
                        <table>gomage_navigation_attribute</table>
		             </attribute>
            		 <attribute_store>
                        <table>gomage_navigation_attribute_store</table>
		            </attribute_store>
            	</entities> 
            </gomage_navigation_mysql4>
            <catalog>
            	<rewrite>
	            	<layer>GoMage_Navigation_Model_Layer</layer>
	            	<layer_filter_attribute>GoMage_Navigation_Model_Layer_Filter_Attribute</layer_filter_attribute>
	            	<layer_filter_price>GoMage_Navigation_Model_Layer_Filter_Price</layer_filter_price>
	            	<layer_filter_category>GoMage_Navigation_Model_Layer_Filter_Category</layer_filter_category>
	            	<layer_filter_decimal>GoMage_Navigation_Model_Layer_Filter_Decimal</layer_filter_decimal>
	            	<layer_filter_item>GoMage_Navigation_Model_Layer_Filter_Item</layer_filter_item>
	            </rewrite>
            </catalog>
            <catalog_resource_eav_mysql4>
            	<rewrite>
            		<attribute>GoMage_Navigation_Model_Resource_Eav_Mysql4_Entity_Attribute</attribute>
	            	<product_collection>GoMage_Navigation_Model_Resource_Eav_Mysql4_Product_Collection</product_collection>
	            	<layer_filter_attribute>GoMage_Navigation_Model_Resource_Eav_Mysql4_Layer_Filter_Attribute</layer_filter_attribute>
	            	<layer_filter_price>GoMage_Navigation_Model_Resource_Eav_Mysql4_Layer_Filter_Price</layer_filter_price>
	            	<layer_filter_decimal>GoMage_Navigation_Model_Resource_Eav_Mysql4_Layer_Filter_Decimal</layer_filter_decimal>
	            	<layer_filter_category>GoMage_Navigation_Model_Resource_Eav_Mysql4_Layer_Filter_Category</layer_filter_category>
	            </rewrite>
            </catalog_resource_eav_mysql4>
            <catalogsearch>
	       		<rewrite>
	       			<layer>GoMage_Navigation_Model_Search_Layer</layer>
	       		</rewrite>
	       	</catalogsearch>
            <catalogsearch_mysql4>
            	<rewrite>
            		<fulltext_collection>GoMage_Navigation_Model_Resource_Eav_Mysql4_Collection</fulltext_collection>
            	</rewrite>
            </catalogsearch_mysql4>
        </models>
        <helpers>
            <gomage_navigation>
                <class>GoMage_Navigation_Helper</class>
            </gomage_navigation>
        </helpers>
        <resources>
            <gomage_navigation_setup>
                <setup>
                    <module>GoMage_Navigation</module>
                    <class>Mage_Eav_Model_Entity_Setup</class>
                </setup>
                <connection>
                    <use>core_setup</use>
                </connection>
            </gomage_navigation_setup>
		</resources>
		<events>
			<catalog_entity_attribute_save_after>
        		<observers>
                    <gomage_navigation_save_attribute>
                        <type>singleton</type>
                        <class>GoMage_Navigation_Model_Observer</class>
                        <method>saveAttribute</method>
                    </gomage_navigation_save_attribute>
                </observers>
        	</catalog_entity_attribute_save_after>
        	<catalog_entity_attribute_load_after>
        		<observers>
                    <gomage_navigation_load_attribute>
                        <type>singleton</type>
                        <class>GoMage_Navigation_Model_Observer</class>
                        <method>loadAttribute</method>
                    </gomage_navigation_load_attribute>
                </observers>
        	</catalog_entity_attribute_load_after>
        	<controller_action_layout_render_before_catalog_category_view>
        		<observers>
                    <gomage_navigation_check_ajax_request>
                        <type>singleton</type>
                        <class>GoMage_Navigation_Model_Observer</class>
                        <method>checkAjax</method>
                    </gomage_navigation_check_ajax_request>
                </observers>
        	</controller_action_layout_render_before_catalog_category_view>
        	<controller_action_layout_render_before_catalogsearch_result_index>
        		<observers>
                    <gomage_navigation_check_ajax_request>
                        <type>singleton</type>
                        <class>GoMage_Navigation_Model_Observer</class>
                        <method>checkAjax</method>
                    </gomage_navigation_check_ajax_request>
                </observers>
        	</controller_action_layout_render_before_catalogsearch_result_index>
        	<controller_action_predispatch_checkout_cart_index>
            	<observers>
                    <gomage_navigation_set_continue_shopping_url>
                        <type>singleton</type>
                        <class>GoMage_Navigation_Model_Observer</class>
                        <method>setContinueShoppingUrl</method>
                    </gomage_navigation_set_continue_shopping_url>
                </observers> 
            </controller_action_predispatch_checkout_cart_index>
            <catalog_controller_category_init_after>
                <observers>
                    <seosuite>
                        <type>singleton</type>
                        <class>GoMage_Navigation_Model_Observer</class>
                        <method>prepareFilterParams</method>
                    </seosuite>
                </observers>
            </catalog_controller_category_init_after> 
            <controller_action_predispatch_catalogsearch_result_index>
            	<observers>
                    <gomage_navigation_set_continue_shopping_url>
                        <type>singleton</type>
                        <class>GoMage_Navigation_Model_Observer</class>
                        <method>prepareFilterParams</method>
                    </gomage_navigation_set_continue_shopping_url>
                </observers> 
            </controller_action_predispatch_catalogsearch_result_index>
		</events>
		
	</global>
	<frontend>
		<translate>
			<modules>
				<GoMage_Navigation>
					<files>
						<default>GoMage_Navigation.csv</default>
					</files>
				</GoMage_Navigation>
			</modules>
        </translate>
        <layout>
            <updates>
                <gomage_navigation module="gomage_navigation">
                    <file>gomage-navigation.xml</file>
                </gomage_navigation>
            </updates>
        </layout>
    </frontend>
    <admin>
        <routers>
			<gomage_navigation>
				<use>admin</use>
				<args>
					<module>GoMage_Navigation</module>
					<frontName>gomage_navigation</frontName>
				</args>
			</gomage_navigation>
        </routers>
    </admin>
    <adminhtml>    	
    	<events>
			<admin_system_config_changed_section_gomage_activation>
                <observers>
                    <navigation_collect_totals_after>
                        <type>model</type>
                        <class>gomage_navigation/observer</class>
                        <method>checkK</method>
                    </navigation_collect_totals_after>
                </observers>
            </admin_system_config_changed_section_gomage_activation>
        </events>        
    	<translate>
			<modules>
				<GoMage_Navigation>
					<files>
						<default>GoMage_Navigation.csv</default>
					</files>
				</GoMage_Navigation>
			</modules>
        </translate>    	
		<acl>
	        <resources>
	            <admin>
	                <children>
	                    <system>
	                        <children>
	                            <config>
	                                <children>
	                                    <gomage_navigation>
	                                    	<title>GoMage - Advanced Navigation</title>
	                                    </gomage_navigation>
	                                    <gomage_activation>
	                                    	<title>GoMage - Activation</title>
	                                    </gomage_activation>
	                                </children>
	                            </config>
	                        </children>
	                    </system>
	                </children>
	            </admin>
	        </resources>
	    </acl>
	    <layout>
            <updates>
                <gomage_navigation module="gomage_navigation">
                    <file>gomage-navigation.xml</file>
                </gomage_navigation>
            </updates>
        </layout>
	</adminhtml>	
    <default>
    	<gomage_navigation>  
    	    <general>
    	    	<mode>0</mode>
    	    	<pager>1</pager>
    	    	<showpager>1</showpager>
    	    </general>  		
    		<filter>
    			<slider_type>cone</slider_type>
    			<slider_style>1E90FF</slider_style>
    			<popup_style>FFFFFF</popup_style>
    			<icon_style>1F5070</icon_style>
    			<button_style>1F5070</button_style>
    			<style>E7F1F4</style>    			
    		</filter>
    		<category>
    			<active>0</active>
    			<filter_type>0</filter_type>
    			<inblock_height>150</inblock_height>
    			<show_shopby>1</show_shopby>    			
    			<column_color>ECF3F6</column_color>
    			<ajax_enabled>0</ajax_enabled>
    			<show_checkbox>0</show_checkbox>
    			<show_minimized>0</show_minimized>
    			<image_align>0</image_align>
    			<show_image_name>1</show_image_name>
    			<show_help>0</show_help>
    			<filter_reset>0</filter_reset>
    		</category>
    		<ajaxloader>
    			<enable>0</enable>
    			<imagealign>left</imagealign>
    			<bgcolor>FFFFFF</bgcolor>
    			<bordercolor>000000</bordercolor>
    			<textcolor>000000</textcolor>
    			<text>Loading, please wait...</text>
    		</ajaxloader>
    		<menubarsettings>
    			<navigation>0</navigation>    		    				
    		</menubarsettings>	
    		<rightcolumnsettings>
    			<active>0</active>
    			<filter_type>0</filter_type> 
    			<inblock_height>150</inblock_height>       			
    			<show_shopby>1</show_shopby>
    			<column_color>ECF3F6</column_color>
    			<ajax_enabled>0</ajax_enabled>
    			<show_checkbox>0</show_checkbox>
    			<show_minimized>0</show_minimized>
    			<image_align>0</image_align>
    			<show_image_name>1</show_image_name>
    			<show_help>0</show_help>
    			<filter_reset>0</filter_reset>			
    		</rightcolumnsettings>
    	</gomage_navigation>
    </default>
</config>