window.k=window.k||{};(function(){var a={header:"&nbsp;",speedin:0.3,speedout:0.5,outDirection:{y:-20},life:5,sticky:false,className:""};var e={location:"tr",width:"250px"};var f=(Prototype.Browser.IE)?parseFloat(navigator.appVersion.split("MSIE ")[1])||0:0;function d(h,g){g=g||a;new Effect.Parallel([new Effect.Move(h,Object.extend({sync:true,mode:"relative"},g.outDirection)),new Effect.Opacity(h,{sync:true,to:0})],{duration:g.speedout,afterFinish:function(){try{var j=h.down("div.notice-exit");if(j!=undefined){j.stopObserving("click",d)}if(g.created&&Object.isFunction(g.created)){h.stopObserving("notice:created",g.created)}if(g.destroyed&&Object.isFunction(g.destroyed)){h.fire("notice:destroyed");h.stopObserving("notice:destroyed",g.destroyed)}}catch(i){}try{h.remove()}catch(i){}}})}function b(g,m,h){var i=Object.clone(a);h=h||{};Object.extend(i,h);var l;if(i.className!=""){l=new Element("div",{"class":i.className}).setStyle({display:"block",opacity:0})}else{l=new Element("div",{"class":"Growler-notice"}).setStyle({display:"block",opacity:0})}if(i.created&&Object.isFunction(i.created)){l.observe("notice:created",i.created)}if(i.destroyed&&Object.isFunction(i.destroyed)){l.observe("notice:destroyed",i.destroyed)}if(i.sticky){var j=new Element("div",{"class":"Growler-notice-exit"}).update("&times;");j.observe("click",function(){d(l,i)});l.insert(j)}l.insert(new Element("div",{"class":"Growler-notice-head"}).update(i.header));l.insert(new Element("div",{"class":"Growler-notice-body"}).update(m));g.insert(l);new Effect.Opacity(l,{to:0.85,duration:i.speedin});if(!i.sticky){d.delay(i.life,l,i)}l.fire("notice:created");return l}function c(l,i,p,j,h,r){p.header=p.header||j;var q=b(l,i,p);q.setStyle({backgroundColor:h,color:r});return q}k.Growler=Class.create({initialize:function(g){var h=Object.clone(e);g=g||{};Object.extend(h,g);this.growler=new Element("div",{"class":"Growler",id:"Growler"});this.growler.setStyle({position:((f==6)?"absolute":"fixed"),padding:"10px",width:h.width,"z-index":"500000"});if(f==6){var i={w:parseInt(this.growler.style.width)+parseInt(this.growler.style.padding)*3,h:parseInt(this.growler.style.height)+parseInt(this.growler.style.padding)*3};switch(h.location){case"br":this.growler.style.setExpression("left","( 0 - Growler.offsetWidth + ( document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth ) + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px'");this.growler.style.setExpression("top","( 0 - Growler.offsetHeight + ( document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px'");break;case"tl":this.growler.style.setExpression("left","( 0 + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px'");this.growler.style.setExpression("top","( 0 + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px'");break;case"bl":this.growler.style.setExpression("left","( 0 + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px'");this.growler.style.setExpression("top","( 0 - Growler.offsetHeight + ( document.documentElement.clientHeight ? document.documentElement.clientHeight : document.body.clientHeight ) + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px'");break;default:this.growler.setStyle({right:"auto",bottom:"auto"});this.growler.style.setExpression("left","( 0 - Growler.offsetWidth + ( document.documentElement.clientWidth ? document.documentElement.clientWidth : document.body.clientWidth ) + ( ignoreMe2 = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ) ) + 'px'");this.growler.style.setExpression("top","( 0 + ( ignoreMe = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ) ) + 'px'");break}}else{switch(h.location){case"br":this.growler.setStyle({bottom:0,right:0});break;case"tl":this.growler.setStyle({top:0,left:0});break;case"bl":this.growler.setStyle({bottom:0,left:0});break;case"tc":this.growler.setStyle({top:0,left:"25%",width:"50%"});break;case"bc":this.growler.setStyle({bottom:0,left:"25%",width:"50%"});break;default:this.growler.setStyle({top:0,right:0});break}}this.growler.wrap(document.body)},growl:function(h,g){return b(this.growler,h,g)},warn:function(h,g){return c(this.growler,h,g,"Warning!","#F6BD6F","#000")},error:function(h,g){return c(this.growler,h,g,"Critical!","#F66F82","#000")},info:function(h,g){return c(this.growler,h,g,"Information!","#BBF66F","#000")},ungrowl:function(h,g){d(h,g)}})})();