/* jReject v1.0-RC2 */
(function(b){b.reject=function(a){a=b.extend(!0,{reject:{all:!1,msie5:!0,msie6:!0},display:[],browserInfo:{firefox:{text:"Firefox 8",url:"http://www.mozilla.com/firefox/"},safari:{text:"Safari 5",url:"http://www.apple.com/safari/download/"},opera:{text:"Opera 11",url:"http://www.opera.com/download/"},chrome:{text:"Chrome 15",url:"http://www.google.com/chrome/"},msie:{text:"Internet Explorer 9",url:"http://www.microsoft.com/windows/Internet-explorer/"},gcf:{text:"Google Chrome Frame",url:"http://code.google.com/chrome/chromeframe/",
allow:{all:!1,msie:!0}}},header:"Did you know that your Internet Browser is out of date?",paragraph1:"Your browser is out of date, and may not be compatible with our website. A list of the most popular web browsers can be found below.",paragraph2:"Just click on the icons to get to the download page",close:!0,closeMessage:"By closing this window you acknowledge that your experience on this website may be degraded",closeLink:"Close This Window",closeURL:"#",closeESC:!0,closeCookie:!1,cookieSettings:{path:"/",
expires:0},imagePath:"./images/",overlayBgColor:"#000",overlayOpacity:0.8,fadeInTime:"fast",fadeOutTime:"fast",analytics:!1},a);if(1>a.display.length)a.display="firefox,chrome,msie,safari,opera,gcf".split(",");b.isFunction(a.beforeReject)&&a.beforeReject(a);if(!a.close)a.closeESC=!1;var c=function(a){return(a.all?!0:!1)||(a[b.os.name]?!0:!1)||(a[b.layout.name]?!0:!1)||(a[b.browser.name]?!0:!1)||(a[b.browser.className]?!0:!1)};if(!c(a.reject)){if(b.isFunction(a.onFail))a.onFail(a);return!1}if(a.close&&
a.closeCookie){var g="jreject-close",e=function(i,l){if("undefined"!=typeof l){var f="";0!=a.cookieSettings.expires&&(f=new Date,f.setTime(f.getTime()+a.cookieSettings.expires),f="; expires="+f.toGMTString());var c=a.cookieSettings.path||"/";document.cookie=i+"="+encodeURIComponent(null==l?"":l)+f+"; path="+c}else{c=null;if(document.cookie&&""!=document.cookie)for(var d=document.cookie.split(";"),g=d.length,e=0;e<g;++e)if(f=b.trim(d[e]),f.substring(0,i.length+1)==i+"="){c=decodeURIComponent(f.substring(i.length+
1));break}return c}};if(null!=e(g))return!1}var d='<div id="jr_overlay"></div><div id="jr_wrap"><div id="jr_inner"><h1 id="jr_header">'+a.header+"</h1>"+(""===a.paragraph1?"":"<p>"+a.paragraph1+"</p>")+(""===a.paragraph2?"":"<p>"+a.paragraph2+"</p>")+"<ul>",j=0,m;for(m in a.display){var n=a.display[m],h=a.browserInfo[n]||!1;if(h&&(void 0==h.allow||c(h.allow)))d+='<li id="jr_'+n+'"><div class="jr_icon"></div><div><a href="'+(h.url||"#")+'">'+(h.text||"Unknown")+"</a></div></li>",++j}var d=d+('</ul><div id="jr_close">'+
(a.close?'<a href="'+a.closeURL+'">'+a.closeLink+"</a><p>"+a.closeMessage+"</p>":"")+"</div></div></div>"),k=b("<div>"+d+"</div>"),c=o(),d=p();k.bind("closejr",function(){if(!a.close)return!1;b.isFunction(a.beforeClose)&&a.beforeClose(a);b(this).unbind("closejr");b("#jr_overlay,#jr_wrap").fadeOut(a.fadeOutTime,function(){b(this).remove();b.isFunction(a.afterClose)&&a.afterClose(a)});b("embed, object, select, applet").show();a.closeCookie&&e(g,"true");return!0});var q=function(b){if(a.analytics){var c=
b.split(/\/+/g)[1];try{_gaq.push(["_trackEvent","External Links",c,b])}catch(d){try{pageTracker._trackEvent("External Links",c,b)}catch(e){}}}window.open(b,"jr_"+Math.round(11*Math.random()));return!1};k.find("#jr_overlay").css({width:c[0],height:c[1],position:"absolute",top:0,left:0,background:a.overlayBgColor,zIndex:200,opacity:a.overlayOpacity,padding:0,margin:0}).next("#jr_wrap").css({position:"absolute",width:"100%",top:d[1]+c[3]/4,left:d[0],zIndex:300,textAlign:"center",padding:0,margin:0}).children("#jr_inner").css({background:"#FFF",
border:"1px solid #CCC",fontFamily:'"Lucida Grande","Lucida Sans Unicode",Arial,Verdana,sans-serif',color:"#4F4F4F",margin:"0 auto",position:"relative",height:"auto",minWidth:100*j,maxWidth:140*j,width:"trident"==b.layout.name?155*j:"auto",padding:20,fontSize:12}).children("#jr_header").css({display:"block",fontSize:"1.3em",marginBottom:"0.5em",color:"#333",fontFamily:"Helvetica,Arial,sans-serif",fontWeight:"bold",textAlign:"left",padding:5,margin:0}).nextAll("p").css({textAlign:"left",padding:5,
margin:0}).siblings("ul").css({listStyleImage:"none",listStylePosition:"outside",listStyleType:"none",margin:0,padding:0}).children("li").css({background:'transparent url("'+a.imagePath+'background_browser.gif")no-repeat scroll left top',cursor:"pointer","float":"left",width:120,height:122,margin:"0 10px 10px 10px",padding:0,textAlign:"center"}).children(".jr_icon").css({width:100,height:100,margin:"1px auto",padding:0,background:"transparent no-repeat scroll left top",cursor:"pointer"}).each(function(){var c=
b(this);c.css("background","transparent url("+a.imagePath+"browser_"+c.parent("li").attr("id").replace(/jr_/,"")+".gif) no-repeat scroll left top");c.click(function(){var a=b(this).next("div").children("a").attr("href");q(a)})}).siblings("div").css({color:"#808080",fontSize:"0.8em",height:18,lineHeight:"17px",margin:"1px auto",padding:0,width:118,textAlign:"center"}).children("a").css({color:"#333",textDecoration:"none",padding:0,margin:0}).hover(function(){b(this).css("textDecoration","underline")},
function(){b(this).css("textDecoration","none")}).click(function(){q(b(this).attr("href"));return!1}).parents("#jr_inner").children("#jr_close").css({margin:"0 0 0 50px",clear:"both",textAlign:"left",padding:0,margin:0}).children("a").css({color:"#000",display:"block",width:"auto",margin:0,padding:0,textDecoration:"underline"}).click(function(){b(this).trigger("closejr");if("#"===a.closeURL)return!1}).nextAll("p").css({padding:"10px 0 0 0",margin:0});b("#jr_overlay").focus();b("embed, object, select, applet").hide();
b("body").append(k.hide().fadeIn(a.fadeInTime));b(window).bind("resize scroll",function(){var a=o();b("#jr_overlay").css({width:a[0],height:a[1]});var c=p();b("#jr_wrap").css({top:c[1]+a[3]/4,left:c[0]})});a.closeESC&&b(document).bind("keydown",function(a){27==a.keyCode&&k.trigger("closejr")});b.isFunction(a.afterReject)&&a.afterReject(a);return!0};var o=function(){var a=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:
document.body.offsetWidth,b=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight,g=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.clientWidth,e=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:
document.body.clientHeight;return[a<g?a:g,b<e?e:b,g,e]},p=function(){return[window.pageXOffset?window.pageXOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollLeft:document.body.scrollLeft,window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop]}})(jQuery);
